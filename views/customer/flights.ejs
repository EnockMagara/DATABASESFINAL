<h2>Search Flights</h2>
<form id="searchFlightsForm">
    <label for="source">Source:</label>
    <input type="text" id="source" name="source" required>

    <label for="destination">Destination:</label>
    <input type="text" id="destination" name="destination" required>

    <label for="departureDate">Departure Date:</label>
    <input type="date" id="departureDate" name="departureDate" required>

    <label for="returnDate">Return Date (optional):</label>
    <input type="date" id="returnDate" name="returnDate">

    <button type="submit">Search</button>
</form>

<div id="flightsResults"></div>

<script>
document.getElementById('searchFlightsForm').addEventListener('submit', function(event) {
    event.preventDefault();
    const formData = new FormData(this);
    fetch('/customer/search-flights?' + new URLSearchParams(formData), {
        method: 'GET'
    })
    .then(response => response.json())
    .then(data => {
        const resultsDiv = document.getElementById('flightsResults');
        resultsDiv.innerHTML = JSON.stringify(data, null, 2);
    })
    .catch(error => console.error('Error:', error));
});
</script>
